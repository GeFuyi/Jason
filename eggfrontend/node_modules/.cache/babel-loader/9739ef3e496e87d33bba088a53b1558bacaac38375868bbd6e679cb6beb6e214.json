{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" 搜索栏 \"), _createVNode(_component_el_form, {\n    inline: true,\n    size: \"small\",\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"]))\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"用户名\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.criteria.username,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.criteria.username = $event),\n        placeholder: \"输入用户名\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"邮箱\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.criteria.email,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.criteria.email = $event),\n        placeholder: \"输入邮箱\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"年龄\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $data.criteria.age,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.criteria.age = $event),\n        placeholder: \"输入年龄\"\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $options.searchUsers\n      }, {\n        default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"查询\", -1 /* CACHED */)])),\n        _: 1 /* STABLE */,\n        __: [4]\n      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        onClick: $options.resetSearch\n      }, {\n        default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"重置\", -1 /* CACHED */)])),\n        _: 1 /* STABLE */,\n        __: [5]\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 用户表格 \"), _createVNode(_component_el_table, {\n    data: $data.pageData,\n    border: \"\",\n    style: {\n      \"width\": \"100%\",\n      \"margin-top\": \"20px\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"id\",\n      label: \"ID\",\n      width: \"80\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"username\",\n      label: \"用户名\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"email\",\n      label: \"邮箱\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"age\",\n      label: \"年龄\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"gender\",\n      label: \"性别\"\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"]), _createCommentVNode(\" 分页 \"), _createVNode(_component_el_pagination, {\n    style: {\n      \"margin-top\": \"20px\",\n      \"text-align\": \"center\"\n    },\n    background: \"\",\n    layout: \"prev, pager, next, jumper\",\n    \"current-page\": $data.page,\n    \"page-size\": $data.pageSize,\n    total: $data.filtered.length,\n    onCurrentChange: $options.handlePageChange\n  }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\", \"onCurrentChange\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createCommentVNode","_createVNode","_component_el_form","inline","size","onSubmit","_cache","_withModifiers","_component_el_form_item","label","_component_el_input","$data","criteria","username","$event","placeholder","email","age","_component_el_button","type","onClick","$options","searchUsers","resetSearch","_component_el_table","data","pageData","border","style","_component_el_table_column","prop","width","_component_el_pagination","background","layout","page","pageSize","total","filtered","length","onCurrentChange","handlePageChange"],"sources":["D:\\Final\\springboot_egg\\egg-web\\src\\user\\UserList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 搜索栏 -->\r\n    <el-form :inline=\"true\" size=\"small\" @submit.native.prevent>\r\n      <el-form-item label=\"用户名\">\r\n        <el-input v-model=\"criteria.username\" placeholder=\"输入用户名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱\">\r\n        <el-input v-model=\"criteria.email\" placeholder=\"输入邮箱\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"年龄\">\r\n        <el-input v-model=\"criteria.age\" placeholder=\"输入年龄\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"searchUsers\">查询</el-button>\r\n        <el-button @click=\"resetSearch\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!-- 用户表格 -->\r\n    <el-table :data=\"pageData\" border style=\"width: 100%; margin-top: 20px;\">\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\"></el-table-column>\r\n      <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\r\n      <el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\r\n      <el-table-column prop=\"age\" label=\"年龄\"></el-table-column>\r\n      <el-table-column prop=\"gender\" label=\"性别\"></el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n        style=\"margin-top: 20px; text-align: center;\"\r\n        background\r\n        layout=\"prev, pager, next, jumper\"\r\n        :current-page.sync=\"page\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"filtered.length\"\r\n        @current-change=\"handlePageChange\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      allUsers: [],       // 页面加载时获取所有用户\r\n      filtered: [],       // 查询后的结果（分页前）\r\n      pageData: [],       // 当前页的数据\r\n      page: 1,\r\n      pageSize: 5,\r\n      criteria: {\r\n        username: \"\",\r\n        email: \"\",\r\n        age: \"\"\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadAllUsers(); // 页面加载时调用\r\n  },\r\n  methods: {\r\n    // 1️⃣ 第一次加载时获取所有用户\r\n    async loadAllUsers() {\r\n      try {\r\n        const res = await axios.get(\"/api/users\"); // 这里换成你的后端接口\r\n        this.allUsers = res.data;  // 假设后端返回一个用户数组\r\n        this.filtered = [...this.allUsers]; // 默认不过滤\r\n        this.updatePageData();\r\n      } catch (err) {\r\n        console.error(\"加载用户失败\", err);\r\n      }\r\n    },\r\n\r\n    // 2️⃣ 点击查询\r\n    searchUsers() {\r\n      this.filtered = this.allUsers.filter(u => {\r\n        let match = true;\r\n        if (this.criteria.username) {\r\n          match = match && u.username.includes(this.criteria.username);\r\n        }\r\n        if (this.criteria.email) {\r\n          match = match && u.email.includes(this.criteria.email);\r\n        }\r\n        if (this.criteria.age) {\r\n          match = match && String(u.age) === String(this.criteria.age);\r\n        }\r\n        return match;\r\n      });\r\n      this.page = 1; // 查询后回到第一页\r\n      this.updatePageData();\r\n    },\r\n\r\n    // 3️⃣ 重置查询\r\n    resetSearch() {\r\n      this.criteria = { username: \"\", email: \"\", age: \"\" };\r\n      this.filtered = [...this.allUsers];\r\n      this.page = 1;\r\n      this.updatePageData();\r\n    },\r\n\r\n    // 4️⃣ 更新当前页数据\r\n    updatePageData() {\r\n      const start = (this.page - 1) * this.pageSize;\r\n      const end = this.page * this.pageSize;\r\n      this.pageData = this.filtered.slice(start, end);\r\n    },\r\n\r\n    // 5️⃣ 页码切换\r\n    handlePageChange(newPage) {\r\n      this.page = newPage;\r\n      this.updatePageData();\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";;;;;;;;;uBACEA,mBAAA,CAqCM,cApCJC,mBAAA,SAAY,EACZC,YAAA,CAcUC,kBAAA;IAdAC,MAAM,EAAE,IAAI;IAAEC,IAAI,EAAC,OAAO;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAP,QAAsB;;sBACzD,MAEe,CAFfN,YAAA,CAEeO,uBAAA;MAFDC,KAAK,EAAC;IAAK;wBACvB,MAAqE,CAArER,YAAA,CAAqES,mBAAA;oBAAlDC,KAAA,CAAAC,QAAQ,CAACC,QAAQ;mEAAjBF,KAAA,CAAAC,QAAQ,CAACC,QAAQ,GAAAC,MAAA;QAAEC,WAAW,EAAC;;;QAEpDd,YAAA,CAEeO,uBAAA;MAFDC,KAAK,EAAC;IAAI;wBACtB,MAAiE,CAAjER,YAAA,CAAiES,mBAAA;oBAA9CC,KAAA,CAAAC,QAAQ,CAACI,KAAK;mEAAdL,KAAA,CAAAC,QAAQ,CAACI,KAAK,GAAAF,MAAA;QAAEC,WAAW,EAAC;;;QAEjDd,YAAA,CAEeO,uBAAA;MAFDC,KAAK,EAAC;IAAI;wBACtB,MAA+D,CAA/DR,YAAA,CAA+DS,mBAAA;oBAA5CC,KAAA,CAAAC,QAAQ,CAACK,GAAG;mEAAZN,KAAA,CAAAC,QAAQ,CAACK,GAAG,GAAAH,MAAA;QAAEC,WAAW,EAAC;;;QAE/Cd,YAAA,CAGeO,uBAAA;wBAFb,MAA6D,CAA7DP,YAAA,CAA6DiB,oBAAA;QAAlDC,IAAI,EAAC,SAAS;QAAEC,OAAK,EAAEC,QAAA,CAAAC;;0BAAa,MAAEhB,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;;sCACjDL,YAAA,CAA8CiB,oBAAA;QAAlCE,OAAK,EAAEC,QAAA,CAAAE;MAAW;0BAAE,MAAEjB,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,mB;;;;;;;MAItCN,mBAAA,UAAa,EACbC,YAAA,CAMWuB,mBAAA;IANAC,IAAI,EAAEd,KAAA,CAAAe,QAAQ;IAAEC,MAAM,EAAN,EAAM;IAACC,KAAsC,EAAtC;MAAA;MAAA;IAAA;;sBAChC,MAAmE,CAAnE3B,YAAA,CAAmE4B,0BAAA;MAAlDC,IAAI,EAAC,IAAI;MAACrB,KAAK,EAAC,IAAI;MAACsB,KAAK,EAAC;QAC5C9B,YAAA,CAA+D4B,0BAAA;MAA9CC,IAAI,EAAC,UAAU;MAACrB,KAAK,EAAC;QACvCR,YAAA,CAA2D4B,0BAAA;MAA1CC,IAAI,EAAC,OAAO;MAACrB,KAAK,EAAC;QACpCR,YAAA,CAAyD4B,0BAAA;MAAxCC,IAAI,EAAC,KAAK;MAACrB,KAAK,EAAC;QAClCR,YAAA,CAA4D4B,0BAAA;MAA3CC,IAAI,EAAC,QAAQ;MAACrB,KAAK,EAAC;;;+BAGvCT,mBAAA,QAAW,EACXC,YAAA,CAQE+B,wBAAA;IAPEJ,KAA6C,EAA7C;MAAA;MAAA;IAAA,CAA6C;IAC7CK,UAAU,EAAV,EAAU;IACVC,MAAM,EAAC,2BAA2B;IACjC,cAAY,EAAOvB,KAAA,CAAAwB,IAAI;IACvB,WAAS,EAAExB,KAAA,CAAAyB,QAAQ;IACnBC,KAAK,EAAE1B,KAAA,CAAA2B,QAAQ,CAACC,MAAM;IACtBC,eAAc,EAAEnB,QAAA,CAAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}